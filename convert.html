<!DOCTYPE html>
<html lang="en">

<head>
  <link rel="stylesheet" href="style.css">
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=i, initial-scale=1.0">
  <title>troll discord</title>
</head>


<body>
  <div class="text_a_traiter">
    <p>texte a convert</p>
    <input id="text" type="text">
    <div id="choix">
      <div class="check"><input type="checkbox" name="" id="cacher">

        <p>cacher lettre a lettre</p>
      </div>
      <!-- <div class="check"> <input type="checkbox" name="" id="barer">
        <p>barer letre a letre </p>
      </div> -->


    </div>

    <button>submit</button>


    <p>le resultat est : </p>
    <h1 id="resultat"> </h1>
  </div>

  <script>
    var result = "";
    var btn = document.querySelector('button')
    var option = "";
    var texte = document.getElementById('text');
    const checkbox = document.querySelector('input[type="checkbox"]');
    checkbox.checked = false;
    const cache = document.querySelector('#cacher');


    cache.addEventListener('change', (event) => {

      if (event.target.checked) {
        option = '';
        option += '||';
      } else {
        option = '';
      }
    });
    const bare = document.querySelector('#barer');


    // bare.addEventListener('change', (event) => {

    //   if (event.target.checked) {
    //     option = '';
    //     option += '~~';
    //   } else {
    //     option = '';
    //   }
    // });

    btn.onclick = function () {
      if (option == '' || document.getElementById('text').value == "") {
        alert('lol pas d\'optionou champ vide');
      } else {
        var texte = document.getElementById('text').value;
        var longeur = texte.length;
        // console.log(texte[0]);
        // console.log(texte[longeur - 1]);
        for (let i = 0; i < texte.length; i++) {
          traiter = option + texte[i] + option;

          result += traiter;
        }
        var html = document.getElementById('resultat').innerHTML = result;
        result = "";
        document.getElementById('text').value = "";
      }
    }

  </script>

</body>

</html>